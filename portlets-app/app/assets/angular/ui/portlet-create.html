<style type="text/css">
       /* tbody, tr { display: block; }
        tbody {
            height: 400px;
            overflow-y: auto;
        }
        tbody td {
            width: 33.33%;
            float: left;
        }*/
</style>

<div id="main" class="container">
  <div class="row">
    <div class="col-md-12 col-sm-12">
      <div>
        <div class="panel-heading">
          <h4>Create your own Portlet</h4>
        </div>
        <div class="panel-body">
          <form method="POST" name="portlet_form" ng-submit="addPortlet()" >
            <div class="row col-sm-12">
              <h4>Basic Information</h4>
              <hr>
              
                <div class="form-group col-lg-8 col-md-8 col-sm-12">
                  <label for="portletName" class="col-md-3 control-label">Portlet Name</label>
                  <div class="col-md-9">
                    <input id="portletName" name="name" ng-required = "true"  ng-model="portlet.name" type="text" placeholder="Give your portlet a name" class="form-control">
                  </div>
                </div>
                <!-- /.form-group-->
                <div class="form-group col-lg-8 col-md-8">
                  <label for="portletDesc" class="col-md-3 control-label">Short Description</label>
                  <div class="col-md-9">
                    <textarea id="portletDesc" name="notes" ng-required = "true" ng-model="portlet.notes" style="resize: none; min-height: 100px" placeholder="Tell us what your portlet is about" class="form-control"></textarea>
                  </div>
                </div>
                <div class="form-group col-lg-8 col-md-8">
                  <label for="portletDesc" class="col-md-3 control-label">Select Category</label>
                  <div class="col-md-9">
                    <select id="category" ng-model="portlet.sectorId" name="category" data-required="true" class="form-control parsley-validated">
                      <option value="">Please Select</option>
                      <option ng-repeat=" sector in sectors " value = "{{sector.id}}" >{{sector.name}}</option>
                    </select>
                  </div>
                </div>
                
              </div>
              <div class="row col-sm-12 top-20">
                <h4>Portlet Selection</h4>
                <hr>
                <div class="form-group col-lg-8 col-md-8 col-sm-12">
                  <label for="stockExchange" class="col-md-3 control-label">Select Exchange</label>
                  <div class="col-md-9">
                    <select id="stockExchange.name" ng-disabled="isDisabled" ng-change="getStocks()" ng-model="portlet.stockExchange.name" name="stockExchange" data-required="true" class="form-control parsley-validated">
                      <option value="">Please Select</option>
                      <option ng-repeat=" stockexchange in stockExchanges " value = "{{stockexchange.name}}" >{{stockexchange.name}}</option>
                    </select>
                    <div class = "top-20">
                    </div>
                  </div>
                </div>
                  
                <div class="form-group col-lg-8 col-md-8 col-sm-12">
                  <label for="stockExchange" class="col-md-3 control-label">Select Stock</label>
                  <div class="col-md-9">
                    <input type="search" placeholder = "Search..." class="form-control" ng-change="showTable(this)" ng-model="search">
                        <table ng-show = "isShown" class="table">
                          <tbody>
                            <tr ng-repeat="stock in stocks | filter : search " >
                              <td> {{stock.name}} </td>
                              <td> {{stock.symbol}} </td>
                              <td><a class="btn btn-sm btn-success" ng-click="addStock(stock.name)">Add</a></td> 
                            </tr>
                          </tbody>
                        </table>
                    <div class = "top-20">
                    </div>
                  </div>
                </div> 
                <div ng-show="showSelected" class="form-group col-lg-8 col-md-8 col-sm-12">
                  <label for="stockExchange" class="col-md-3 control-label">Selected Stock</label>
                  <div class="col-md-9">
                    <table class="table">
                          <thead>
                            <td style="width:33.33%" >Name</td>
                            <td style="width:33.33%">Weightage</td>
                            <td style="width:33.33%">Delete</td>
                          </thead>
                          <tbody>
                            <tr ng-repeat="selectedStock in selectedStocks track by $index">
                              <td> {{selectedStock.stock}} </td>
                              <td> <input size='8' ng-placeholder="Weightage" placeholder = "Weightage" ng-required = 'true' type='text' ng-model= 'selectedStock.weightage' ng-change = 'setWeightage(selectedStock.stock , selectedStock.weightage)' ></td>
                              <td><a class="btn btn-danger" ng-click="deleteStock(selectedStock.stock)">Delete</a></td> 
                            </tr>
                          </tbody>
                        </table>
                    <div class = "top-20">
                    </div>
                  </div>
                </div>

                <!-- /.form-group-->
                 <div class="form-group col-lg-8 col-md-8 col-sm-12">
                  <label for="addStock" class="col-md-3 control-label"></label>
                  <div class="col-md-9">
                  <h5 ng-show="showSelected">Available Weightage : <span ng-bind="availableWeightage"></span> </h5>
                    <div class="row">
                      <div class="top-20">
                        <button type="submit"  class="btn btn-primary">Create Portlet</a></button> <span style="display:inline-block">You have selected<span class="badge badge-secondary"><span ng-bind='size'></span></span>stock(s) in your portlet</span>
                      </div>
                    </div>
                  </div> 
                </div>
              </div>  <!-- /.form-group-->
            </div>
          </div>
          <!-- /.2nd row-->
        </div>
        <!-- /.panel body-->
      </div>
      <!-- /.panel-->
    </div>
    <!-- /.end col-->
  </div>
  <!-- /.end row-->
</div>
<!-- /main-->


       